<script src="../../src/customAttributes.js"></script>
<script src="https://cdn.jsdelivr.net/gh/orstavik/ElementObserver@1.1.0/startObserver.js"></script>
<script src="../../src/lib.js"></script>

<style>
  div:not([open]) > :not(h1) {
    display: none;
  }
</style>

<div
    toggle:.get-computed-style_this.owner-element.children.1:console.log_e.display_1
    toggle:open
    toggle:.get-computed-style_this.owner-element.children.1:console.log_e.display_2
>
  <h1 click:toggle>hello</h1>
  <p>sunshine</p>
  <p>world</p>
</div>

<script type="module">
  customReactions.defineAll({
    "open": lib.toggleAttr,
    "toggle": lib.newEvent
  });

  document.querySelector("h1").click();
</script>